# -*- encoding:utf-8-*-
import numpy as np
import matplotlib.pyplot as plt  
import sys

# sys.setdefaultencoding('utf-8')

from matplotlib.font_manager import FontProperties

# font = FontProperties(fname="./simhei.ttf", size=26)
 

plt.figure(figsize=(11.5, 12.5))
# 5 missing value
# ub_ndcg = [0.162,0.242,0.284,0.313,0.340,0.357,0.370,0.379,0.388,0.400,0.409,0.417,0.423,0.429,0.436,0.441,0.446,0.450,0.456,0.460]
# ib_ndcg = [0.060,0.100,0.125,0.140,0.156,0.171,0.179,0.190,0.199,0.206,0.213,0.222,0.227,0.232,0.238,0.242,0.246,0.252,0.256,0.262]
# tagrank_ndcg = [0.011,0.016,0.023,0.030,0.035,0.041,0.042,0.045,0.050,0.055,0.061,0.064,0.068,0.072,0.075,0.078,0.083,0.086,0.088,0.091]
# svd_ndcg = [0.032,0.055,0.068,0.08,0.091,0.102,0.113,0.118,0.122,0.126,0.132,0.137,0.142,0.145,0.148,0.151,0.154,0.156,0.158,0.162]
# tagrec_ndcg = [0.226,0.325,0.378,0.409,0.433,0.445,0.458,0.469,0.479,0.49,0.497,0.502,0.511,0.517,0.524,0.529,0.532,0.534,0.537,0.543]
# rocchio_ndcg = [0.051,0.064,0.075,0.083,0.087,0.095,0.100,0.105,0.110,0.112,0.115,0.118,0.122,0.124,0.126,0.131,0.133,0.135,0.138,0.141]
# bpr_ndcg = [0.157,0.218,0.26,0.275,0.294,0.309,0.322,0.328,0.335,0.342,0.347,0.355,0.361,0.366,0.37,0.374,0.38,0.385,0.389,0.393]
# ### neumf_ndcg = [0.134 , 0.179 , 0.218 , 0.237 , 0.255 , 0.269 , 0.282 , 0.295 , 0.308 , 0.315 , 0.323 , 0.33 , 0.336 , 0.34 , 0.345 , 0.351 , 0.358 , 0.362 , 0.367 , 0.373]
# neumf_ndcg = [0.156,0.229,0.265,0.294,0.313,0.333,0.343,0.354,0.361,0.367,0.376,0.381,0.386,0.393,0.398,0.402,0.409,0.412,0.416,0.419]
# mlp_ndcg = [0.154,0.214,0.243,0.259,0.276,0.286,0.294,0.31,0.32,0.327,0.333,0.338,0.346,0.349,0.353,0.357,0.362,0.368,0.373,0.375]

# 10 missing value
# ub_ndcg = [0.142,0.219,0.269,0.310,0.342,0.371,0.392,0.412,0.426,0.439,0.453,0.462,0.472,0.482,0.490,0.495,0.500,0.505,0.511,0.515]
# ib_ndcg = [0.074,0.107,0.138,0.159,0.175,0.190,0.202,0.214,0.224,0.236,0.246,0.255,0.262,0.269,0.276,0.284,0.289,0.296,0.301,0.307]
# tagrank_ndcg = [0.015,0.024,0.029,0.037,0.044,0.050,0.052,0.058,0.062,0.069,0.073,0.079,0.083,0.088,0.094,0.098,0.104,0.108,0.112,0.117]
# svd_ndcg = [0.03,0.058,0.08,0.092,0.102,0.111,0.121,0.132,0.141,0.148,0.155,0.163,0.171,0.178,0.181,0.187,0.192,0.198,0.201,0.204]
# tagrec_ndcg = [0.19,0.287,0.355,0.403,0.441,0.469,0.49,0.507,0.52,0.533,0.545,0.555,0.564,0.571,0.577,0.585,0.59,0.598,0.604,0.61]
# rocchio_ndcg = [0.054,0.072,0.082,0.092,0.100,0.109,0.115,0.121,0.125,0.130,0.133,0.138,0.142,0.147,0.150,0.154,0.158,0.162,0.165,0.169]
# bpr_ndcg = [0.148,0.222,0.26,0.292,0.317,0.338,0.353,0.366,0.378,0.389,0.397,0.404,0.41,0.417,0.423,0.429,0.435,0.439,0.445,0.45]
# ###neumf_ndcg = [0.132 , 0.198 , 0.237 , 0.269 , 0.292 , 0.314 , 0.333 , 0.35 , 0.361 , 0.37 , 0.382 , 0.39 , 0.4 , 0.407 , 0.414 , 0.421 , 0.429 , 0.432 , 0.437 , 0.444]
# neumf_ndcg = [0.146,0.229,0.278,0.315,0.343,0.365,0.385,0.406,0.42,0.433,0.445,0.455,0.464,0.472,0.482,0.488,0.494,0.5,0.505,0.51]
# mlp_ndcg = [0.148,0.212,0.255,0.29,0.314,0.336,0.353,0.367,0.378,0.389,0.397,0.405,0.413,0.42,0.429,0.435,0.442,0.449,0.453,0.461]

# 15 missing value
ub_ndcg = [0.128,0.204,0.255,0.298,0.329,0.355,0.379,0.397,0.417,0.434,0.448,0.462,0.472,0.482,0.492,0.497,0.503,0.512,0.518,0.523]
ib_ndcg = [0.072,0.109,0.137,0.156,0.171,0.188,0.203,0.216,0.228,0.239,0.250,0.262,0.271,0.279,0.287,0.295,0.302,0.309,0.316,0.322]
tagrank_ndcg = [0.020,0.033,0.043,0.049,0.055,0.062,0.068,0.074,0.080,0.088,0.094,0.099,0.106,0.110,0.116,0.122,0.127,0.133,0.138,0.143]
svd_ndcg = [0.065,0.104,0.123,0.135,0.147,0.159,0.17,0.181,0.189,0.196,0.205,0.211,0.217,0.224,0.23,0.235,0.241,0.246,0.251,0.256]
tagrec_ndcg = [0.151,0.245,0.314,0.371,0.409,0.44,0.467,0.489,0.507,0.523,0.537,0.549,0.561,0.572,0.581,0.591,0.597,0.604,0.611,0.618]
rocchio_ndcg = [0.052,0.073,0.084,0.095,0.105,0.113,0.121,0.126,0.132,0.139,0.144,0.151,0.156,0.160,0.163,0.167,0.170,0.174,0.178,0.182]
bpr_ndcg = [0.126,0.199,0.249,0.287,0.315,0.336,0.352,0.368,0.379,0.391,0.401,0.412,0.419,0.425,0.432,0.439,0.447,0.455,0.459,0.465]
###neumf_ndcg = [0.121 , 0.188 , 0.235 , 0.273 , 0.301 , 0.326 , 0.347 , 0.365 , 0.381 , 0.394 , 0.407 , 0.417 , 0.426 , 0.435 , 0.446 , 0.455 , 0.462 , 0.469 , 0.476 , 0.481]
neumf_ndcg = [0.135,0.208,0.267,0.306,0.336,0.358,0.377,0.393,0.411,0.427,0.441,0.452,0.463,0.473,0.482,0.49,0.498,0.505,0.512,0.519]
mlp_ndcg = [0.114,0.174,0.218,0.249,0.275,0.296,0.312,0.328,0.342,0.355,0.366,0.377,0.389,0.397,0.407,0.413,0.421,0.428,0.435,0.442]


# 20 missing value
# ub_ndcg = [0.114,0.181,0.232,0.272,0.304,0.332,0.357,0.379,0.398,0.414,0.429,0.442,0.455,0.466,0.476,0.487,0.495,0.504,0.513,0.521]
# ib_ndcg = [0.066,0.103,0.131,0.153,0.170,0.184,0.199,0.210,0.224,0.234,0.246,0.257,0.267,0.275,0.283,0.293,0.301,0.307,0.313,0.320]
# tagrank_ndcg = [0.020,0.033,0.043,0.052,0.058,0.065,0.072,0.079,0.085,0.093,0.101,0.107,0.114,0.120,0.126,0.132,0.137,0.143,0.148,0.154]
# svd_ndcg = [0.065,0.108,0.132,0.148,0.164,0.175,0.189,0.2,0.21,0.218,0.224,0.232,0.239,0.244,0.251,0.257,0.262,0.267,0.272,0.277]
# tagrec_ndcg = [0.134,0.213,0.276,0.325,0.37,0.401,0.431,0.457,0.478,0.495,0.513,0.526,0.538,0.55,0.559,0.57,0.579,0.587,0.595,0.601]
# rocchio_ndcg = [0.047,0.068,0.087,0.099,0.109,0.119,0.126,0.133,0.140,0.145,0.152,0.157,0.161,0.166,0.173,0.179,0.181,0.186,0.189,0.193]
# bpr_ndcg = [0.12,0.186,0.232,0.269,0.299,0.32,0.341,0.357,0.374,0.388,0.4,0.41,0.419,0.427,0.437,0.447,0.455,0.462,0.468,0.475]
# ### neumf_ndcg = [0.113 , 0.176 , 0.222 , 0.254 , 0.283 , 0.308 , 0.329 , 0.347 , 0.364 , 0.379 , 0.391 , 0.403 , 0.413 , 0.423 , 0.431 , 0.441 , 0.45 , 0.458 , 0.467 , 0.472 ]
# neumf_ndcg = [0.118,0.182,0.231,0.267,0.299,0.327,0.349,0.371,0.388,0.403,0.419,0.431,0.442,0.454,0.463,0.471,0.48,0.488,0.494,0.505]
# mlp_ndcg = [0.118,0.178,0.221,0.256,0.28,0.302,0.322,0.341,0.355,0.368,0.378,0.39,0.401,0.411,0.42,0.427,0.437,0.443,0.452,0.458]


# HR
# 5 missing value
# ub_hr = [0.085,0.160,0.209,0.249,0.290,0.319,0.342,0.359,0.376,0.400,0.420,0.437,0.451,0.465,0.481,0.492,0.505,0.516,0.530,0.542]
# ib_hr = [0.035,0.073,0.102,0.123,0.147,0.172,0.186,0.207,0.225,0.239,0.253,0.272,0.283,0.296,0.308,0.319,0.329,0.345,0.355,0.369]
# tagrank_hr = [0.000,0.017,0.021,0.030,0.038,0.043,0.047,0.052,0.057,0.062,0.065,0.069,0.076,0.078,0.084,0.088,0.098,0.104,0.110,0.119]
# svd_hr = [0.023,0.039,0.054,0.072,0.089,0.109,0.131,0.142,0.151,0.161,0.176,0.187,0.2,0.208,0.219,0.228,0.234,0.242,0.248,0.259]
# tagrec_hr = [0.133,0.226,0.288,0.33,0.367,0.387,0.41,0.43,0.451,0.472,0.487,0.499,0.518,0.533,0.55,0.562,0.568,0.574,0.58,0.596]
# rocchio_hr = [0.023,0.034,0.045,0.052,0.060,0.070,0.078,0.083,0.090,0.094,0.100,0.106,0.112,0.116,0.117,0.119,0.123,0.130,0.136,0.145]
# bpr_hr = [0.093,0.15,0.199,0.22,0.248,0.273,0.296,0.308,0.321,0.336,0.347,0.363,0.376,0.389,0.399,0.407,0.422,0.435,0.445,0.456]
# ### neumf_hr = [0.079 , 0.121 , 0.167 , 0.193 , 0.22 , 0.244 , 0.267 , 0.292 , 0.316 , 0.33 , 0.348 , 0.363 , 0.376 , 0.385 , 0.397 , 0.412 , 0.428 , 0.44 , 0.451 , 0.467]
# neumf_hr = [0.092,0.16,0.202,0.243,0.272,0.304,0.322,0.342,0.357,0.369,0.387,0.398,0.411,0.425,0.439,0.448,0.466,0.473,0.483,0.491]
# mlp_hr = [0.091,0.147,0.181,0.203,0.229,0.246,0.259,0.289,0.308,0.323,0.336,0.346,0.364,0.372,0.38,0.39,0.403,0.418,0.43,0.436]

# 10 missing value
# ub_hr = [0.062,0.129,0.174,0.219,0.259,0.294,0.325,0.349,0.374,0.392,0.414,0.432,0.452,0.472,0.485,0.494,0.510,0.518,0.533,0.543]
# ib_hr = [0.033,0.057,0.086,0.108,0.126,0.146,0.161,0.178,0.193,0.214,0.229,0.245,0.256,0.269,0.281,0.296,0.306,0.319,0.329,0.341]
# tagrank_hr = [0.001,0.017,0.021,0.028,0.034,0.039,0.043,0.048,0.054,0.058,0.063,0.071,0.077,0.083,0.089,0.095,0.101,0.109,0.115,0.123]
# svd_hr = [0.016,0.03,0.049,0.061,0.073,0.086,0.101,0.117,0.133,0.145,0.159,0.174,0.188,0.202,0.21,0.221,0.232,0.244,0.253,0.259]
# tagrec_hr = [0.086,0.157,0.218,0.269,0.313,0.349,0.378,0.402,0.422,0.442,0.462,0.479,0.495,0.507,0.518,0.531,0.541,0.556,0.57,0.58]
# rocchio_hr = [0.024,0.037,0.047,0.056,0.066,0.078,0.086,0.094,0.101,0.108,0.113,0.121,0.129,0.138,0.144,0.151,0.158,0.166,0.173,0.180]
# bpr_hr = [0.067,0.12,0.155,0.189,0.218,0.245,0.266,0.284,0.302,0.32,0.332,0.345,0.354,0.367,0.378,0.39,0.401,0.409,0.42,0.431]
# ### neumf_hr = [0.06 , 0.108 , 0.143 , 0.176 , 0.204 , 0.232 , 0.257 , 0.281 , 0.298 , 0.313 , 0.333 , 0.346 , 0.362 , 0.376 , 0.387 , 0.402 , 0.415 , 0.423 , 0.433 , 0.446 ]
# neumf_hr = [0.066,0.126,0.171,0.21,0.242,0.271,0.298,0.328,0.349,0.369,0.39,0.406,0.421,0.436,0.453,0.465,0.476,0.487,0.498,0.509]
# mlp_hr = [0.067,0.113,0.152,0.189,0.218,0.245,0.268,0.289,0.305,0.323,0.335,0.35,0.363,0.375,0.393,0.403,0.417,0.43,0.439,0.453]


# 15 missing value
# ub_hr = [0.050,0.097,0.137,0.176,0.207,0.235,0.263,0.286,0.313,0.334,0.355,0.375,0.390,0.405,0.420,0.429,0.439,0.454,0.463,0.472]
# ib_hr = [0.028,0.050,0.073,0.089,0.105,0.123,0.141,0.157,0.173,0.187,0.203,0.220,0.234,0.247,0.258,0.272,0.282,0.295,0.307,0.317]
# tagrank_hr = [0.002,0.017,0.023,0.030,0.037,0.043,0.047,0.051,0.056,0.063,0.067,0.075,0.080,0.086,0.092,0.099,0.106,0.114,0.119,0.127]
# svd_hr = [0.029,0.046,0.059,0.07,0.082,0.096,0.109,0.123,0.134,0.146,0.159,0.169,0.178,0.19,0.2,0.209,0.219,0.229,0.238,0.249]
# tagrec_hr = [0.059,0.117,0.171,0.222,0.262,0.296,0.326,0.354,0.378,0.399,0.419,0.437,0.454,0.471,0.485,0.501,0.511,0.522,0.533,0.546]
# rocchio_hr = [0.020,0.033,0.041,0.051,0.062,0.070,0.079,0.086,0.094,0.103,0.110,0.120,0.127,0.133,0.139,0.146,0.151,0.157,0.164,0.170]
# bpr_hr = [0.049,0.095,0.134,0.168,0.196,0.219,0.238,0.258,0.273,0.289,0.302,0.318,0.329,0.338,0.349,0.36,0.373,0.386,0.394,0.403]
# ### neumf_hr = [0.047 , 0.089 , 0.125 , 0.16 , 0.188 , 0.216 , 0.241 , 0.263 , 0.283 , 0.301 , 0.319 , 0.334 , 0.347 , 0.36 , 0.378 , 0.392 , 0.404 , 0.415 , 0.426 , 0.436 ]
# neumf_hr = [0.053,0.098,0.144,0.179,0.209,0.234,0.256,0.276,0.299,0.32,0.341,0.357,0.372,0.388,0.402,0.416,0.428,0.44,0.452,0.463]
# mlp_hr = [0.045,0.082,0.116,0.144,0.17,0.193,0.212,0.232,0.25,0.268,0.283,0.299,0.317,0.329,0.344,0.355,0.367,0.38,0.391,0.403]

# 20 missing value
# ub_hr = [0.040,0.077,0.113,0.146,0.175,0.203,0.229,0.254,0.276,0.295,0.314,0.331,0.348,0.364,0.378,0.393,0.405,0.419,0.433,0.445]
# ib_hr = [0.023,0.044,0.063,0.081,0.096,0.110,0.126,0.138,0.155,0.168,0.182,0.197,0.210,0.221,0.232,0.247,0.259,0.268,0.277,0.288]
# tagrank_hr = [0.007,0.014,0.021,0.029,0.034,0.041,0.048,0.056,0.064,0.072,0.083,0.091,0.100,0.108,0.117,0.125,0.133,0.142,0.15,0.159]
# svd_hr = [0.025,0.042,0.057,0.07,0.084,0.095,0.11,0.123,0.136,0.146,0.154,0.166,0.176,0.183,0.193,0.202,0.211,0.219,0.228,0.236]
# tagrec_hr = [0.047,0.091,0.135,0.176,0.216,0.247,0.279,0.308,0.332,0.354,0.375,0.392,0.409,0.425,0.438,0.453,0.467,0.479,0.491,0.5]
# rocchio_hr = [0.016,0.028,0.041,0.051,0.060,0.070,0.077,0.085,0.093,0.100,0.108,0.116,0.120,0.128,0.137,0.145,0.149,0.156,0.161,0.167]
# bpr_hr = [0.042,0.079,0.112,0.141,0.169,0.19,0.212,0.23,0.249,0.266,0.282,0.295,0.307,0.318,0.333,0.347,0.358,0.368,0.378,0.388]
# ### neumf_hr = [0.04 , 0.075 , 0.107 , 0.134 , 0.16 , 0.184 , 0.207 , 0.227 , 0.247 , 0.264 , 0.28 , 0.295 , 0.31 , 0.323 , 0.334 , 0.348 , 0.362 , 0.374 , 0.387 , 0.396]
# neumf_hr = [0.041,0.077,0.112,0.141,0.17,0.198,0.221,0.246,0.265,0.284,0.304,0.32,0.335,0.35,0.364,0.376,0.388,0.4,0.41,0.426]
# mlp_hr = [0.042,0.075,0.105,0.134,0.156,0.178,0.199,0.219,0.237,0.251,0.265,0.281,0.295,0.309,0.321,0.332,0.345,0.356,0.368,0.379]

x = np.arange(1,21)
plt.xlabel('The number of automatic tags',fontsize=32)
#
plt.ylabel('NDCG',fontsize=32)
plt.plot(x, tagrank_ndcg, '#A52A2A',label='TagRank',linewidth=4,marker='D',markersize=12)
plt.plot(x, svd_ndcg,'g',label='Bias-SVD',linewidth=4,marker='^',markersize=12)
plt.plot(x, ib_ndcg,'#FF9500',label='ItemKNN',linewidth=4,marker='*',markersize=12)
plt.plot(x, bpr_ndcg, '#FF69B4', label='BPR-MF',linewidth=4,marker='<',markersize=12)
plt.plot(x, neumf_ndcg,'c', label='NeuMF',linewidth=4,marker='o',markersize=12)
plt.plot(x, mlp_ndcg, 'b', label='MLP',linewidth=4, marker='x',markersize=12)
plt.plot(x, tagrec_ndcg, 'r',label='TagRec',linewidth=4,marker='v',markersize=12)


# plt.ylabel('HR', fontsize=32)
# plt.plot(x, tagrank_hr, '#A52A2A', label='TagRank', linewidth=4, marker='D', markersize=12)
# plt.plot(x, svd_hr, 'g', label='Bias-SVD', linewidth=4, marker='^', markersize=12)
# plt.plot(x, ib_hr, '#FF9500', label='ItemKNN', linewidth=4, marker='*', markersize=12)
# plt.plot(x, bpr_hr, '#FF69B4', label='BPR-MF', linewidth=4, marker='<', markersize=12)
# plt.plot(x, neumf_hr, 'c', label='NeuMF', linewidth=4, marker='o', markersize=12)
# plt.plot(x, mlp_hr, 'b', label='MLP',linewidth=4, marker='x',markersize=12)
# plt.plot(x, tagrec_hr, 'r', label='TagRec', linewidth=4, marker='v', markersize=12)


plt.xticks(np.arange(0, 22, 2), rotation=0, fontsize=32)
plt.yticks(np.arange(0, 0.9, 0.10), fontsize=32)

plt.legend(fontsize=34, loc=2, ncol=2, framealpha=0)
plt.grid()

plt.savefig('NDCG_15')
plt.show()
